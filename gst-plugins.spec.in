Name: 		gstreamer-plugins
Version: 	@VERSION@
Release: 	@GST_PLUGINS_VERSION_RELEASE@
Summary: 	GStreamer Streaming-media framework plug-ins.

%define 	majorminor	@GST_MAJORMINOR@
#%define 	prefix  /usr
#%define 	sysconfdir /etc
#Docdir: 	%{prefix}/share/doc
#Prefix: 	%prefix

Group: 		Libraries/Multimedia
License: 	LGPL
URL:		http://gstreamer.net/
Vendor:         GStreamer Backpackers Team <package@gstreamer.net>
Source:         http://gstreamer.net/releases/%{version}/src/gst-plugins-%{version}.tar.gz
BuildRoot: 	%{_tmppath}/%{name}-%{version}-root

%define         _glib2          @GLIB2_REQ@

Requires:       glib2 >= %_glib2
BuildRequires:  glib2-devel >= %_glib2
Requires: 	gstreamer >= 0.6.1
BuildRequires: 	gstreamer-devel >= 0.6.1
BuildRequires:	gstreamer-tools >= 0.6.1

@USE_ARTS_TRUE@Requires:      arts >= 1.1.4
@USE_ARTS_TRUE@BuildRequires: arts-devel >= 1.1.4
@USE_ARTS_TRUE@BuildRequires: gcc-c++
@USE_AUDIOFILE_TRUE@Requires:      audiofile >= 0.2.1
@USE_AUDIOFILE_TRUE@BuildRequires: audiofile-devel >= 0.2.1
@USE_CDPARANOIA_TRUE@Requires:      cdparanoia-libs >= alpha9.7
@USE_CDPARANOIA_TRUE@BuildRequires: cdparanoia-devel >= alpha9.7
@USE_ESD_TRUE@Requires:      esound >= 0.2.8
@USE_ESD_TRUE@BuildRequires: esound-devel >= 0.2.8
@USE_ESD_TRUE@Obsoletes:     gstreamer-esd
@USE_ESD_TRUE@
@USE_ESD_TRUE@Provides:		gstreamer-audiosrc
@USE_ESD_TRUE@Provides:		gstreamer-audiosink
@USE_GNOME_VFS_TRUE@Requires:      gnome-vfs2 > 1.9.4.00
@USE_GNOME_VFS_TRUE@BuildRequires: gnome-vfs2-devel > 1.9.4.00
@USE_JPEG_TRUE@Requires:      libjpeg
@USE_JPEG_TRUE@BuildRequires: libjpeg-devel
@USE_MIKMOD_TRUE@Requires:      mikmod
@USE_MIKMOD_TRUE@BuildRequires: mikmod
@USE_SDL_TRUE@Requires:      SDL >= 1.2.0
@USE_SDL_TRUE@BuildRequires: SDL-devel >= 1.2.0
@USE_SDL_TRUE@#SDL-devel should require XFree86-devel because it links to it
@USE_SDL_TRUE@#only it doesn't seem to do that currently
@USE_SDL_TRUE@BuildRequires: 	XFree86-devel
@USE_VORBIS_TRUE@Requires:      libogg >= 1.0
@USE_VORBIS_TRUE@Requires:      libvorbis >= 1.0
@USE_VORBIS_TRUE@BuildRequires: libogg-devel >= 1.0
@USE_VORBIS_TRUE@BuildRequires: libvorbis-devel >= 1.0
@USE_LIBPNG_TRUE@Requires:      libpng >= 1.2.0
@USE_LIBPNG_TRUE@BuildRequires: libpng-devel >= 1.2.0
@USE_OSS_TRUE@BuildRequires: glibc-devel
@USE_RAW1394_TRUE@Requires:      libraw1394
@USE_RAW1394_TRUE@BuildRequires: libraw1394-devel
@USE_XVIDEO_TRUE@Requires: 	XFree86-libs
@USE_XVIDEO_TRUE@BuildRequires: XFree86-devel
@USE_GCONF_TRUE@Requires: 	GConf2
@USE_GCONF_TRUE@BuildRequires: 	GConf2-devel
# Snapshot plugin
@USE_HERMES_TRUE@@USE_LIBPNG_TRUE@Requires:	libpng

Obsoletes:	gstreamer-plugin-libs
Obsoletes:	gstreamer-arts
Obsoletes:	gstreamer-artsd
Obsoletes:	gstreamer-audiofile
Obsoletes:	gstreamer-cdparanoia
Obsoletes:	gstreamer-esound
Obsoletes:	gstreamer-gnomevfs
Obsoletes:	gstreamer-jpeg
Obsoletes:	gstreamer-libpng
Obsoletes:	gstreamer-mikmod
Obsoletes:	gstreamer-oss
Obsoletes:	gstreamer-raw1394
Obsoletes:	gstreamer-SDL
Obsoletes:	gstreamer-vorbis
Obsoletes:	gstreamer-v4l
Obsoletes:	gstreamer-xvideosink
Obsoletes:	gstreamer-audio-effects
Obsoletes:	gstreamer-audio-formats
Obsoletes:	gstreamer-festival
Obsoletes:	gstreamer-flx
Obsoletes:	gstreamer-qcam
Obsoletes:	gstreamer-udp
Obsoletes:	gstreamer-vcd
Obsoletes:	gstreamer-video-effects
Obsoletes:	gstreamer-visualisation
Obsoletes:	gstreamer-yuv4mjpeg
Obsoletes:	gstreamer-cdplayer
Obsoletes:	gstreamer-videotest
Obsoletes:	gstreamer-rtp
Obsoletes:	gstreamer-snapshot
Obsoletes:	gstreamer-GConf
Obsoletes:	gstreamer-play

%description
GStreamer is a streaming-media framework, based on graphs of filters which
operate on media data. Applications using this library can do anything
from real-time sound processing to playing videos, and just about anything
else media-related.  Its plugin-based architecture means that new data
types or processing capabilities can be added simply by installing new
plug-ins.

%prep
%setup -n gst-plugins-%{version}
%build
CFLAGS="${CFLAGS:-%optflags}" ; export CFLAGS ; \
CXXFLAGS="${CXXFLAGS:-%optflags}" ; export CXXFLAGS ; \
FFLAGS="${FFLAGS:-%optflags}" ; export FFLAGS ; \
%{?__libtoolize:[ -f configure.in ] && %{__libtoolize} --copy --force} ; \
./configure \
  --prefix=%{_prefix} \
  --exec-prefix=%{_exec_prefix} \
  --bindir=%{_bindir} \
  --sbindir=%{_sbindir} \
  --sysconfdir=%{_sysconfdir} \
  --datadir=%{_datadir} \
  --includedir=%{_includedir} \
  --libdir=%{_libdir} \
  --libexecdir=%{_libexecdir} \
  --localstatedir=%{_localstatedir} \
  --sharedstatedir=%{_sharedstatedir} \
  --with-gdk-pixbuf-loader-dir=$RPM_BUILD_ROOT%{_libdir}/gtk-2.0/2.2.0/loaders \
  --mandir=%{_mandir} \
  --infodir=%{_infodir} \
  --enable-debug \
  --enable-DEBUG 

if [ "$SMP" != "" ]; then
  (make "MAKE=make -k -j $SMP"; exit 0)
  make 2>&1 | tee make.log
else
  make 2>&1 | tee make.log
fi

%install
[ -n "$RPM_BUILD_ROOT" -a "$RPM_BUILD_ROOT" != / ] && rm -rf $RPM_BUILD_ROOT
export GCONF_DISABLE_MAKEFILE_SCHEMA_INSTALL=1
make prefix=%{?buildroot:%{buildroot}}%{_prefix} \
     exec_prefix=%{?buildroot:%{buildroot}}%{_exec_prefix} \
     bindir=%{?buildroot:%{buildroot}}%{_bindir} \
     sbindir=%{?buildroot:%{buildroot}}%{_sbindir} \
     sysconfdir=%{?buildroot:%{buildroot}}%{_sysconfdir} \
     datadir=%{?buildroot:%{buildroot}}%{_datadir} \
     includedir=%{?buildroot:%{buildroot}}%{_includedir} \
     libdir=%{?buildroot:%{buildroot}}%{_libdir} \
     libexecdir=%{?buildroot:%{buildroot}}%{_libexecdir} \
     localstatedir=%{?buildroot:%{buildroot}}%{_localstatedir} \
     sharedstatedir=%{?buildroot:%{buildroot}}%{_sharedstatedir} \
     mandir=%{?buildroot:%{buildroot}}%{_mandir} \
     infodir=%{?buildroot:%{buildroot}}%{_infodir} \
  install
unset GCONF_DISABLE_MAKEFILE_SCHEMA_INSTALL

# Clean out files that should not be part of the rpm.
# This is the recommended way of dealing with it for RH8
rm -f $RPM_BUILD_ROOT%{_libdir}/gstreamer-%{majorminor}/*.la
rm -f $RPM_BUILD_ROOT%{_libdir}/gstreamer-%{majorminor}/*.a
rm -f $RPM_BUILD_ROOT%{_libdir}/*.a
rm -f $RPM_BUILD_ROOT%{_libdir}/*.la
rm -f $RPM_BUILD_ROOT%{_includedir}/gstreamer-%{majorminor}/gst/media-info/media-info.h
rm -f $RPM_BUILD_ROOT%{_libdir}/libgstmedia-info*.so.0.0.0
rm -f $RPM_BUILD_ROOT%{_libdir}/gstreamer-%{majorminor}/libgstgdkpixbuf.so

%clean
[ -n "$RPM_BUILD_ROOT" -a "$RPM_BUILD_ROOT" != / ] && rm -rf $RPM_BUILD_ROOT

%files
%defattr(-, root, root)
%doc AUTHORS COPYING README RELEASE REQUIREMENTS
%{_bindir}/gst-launch-ext-%{majorminor}
%{_bindir}/gst-visualise-%{majorminor}
%{_mandir}/man1/gst-launch-ext-%{majorminor}.*
%{_mandir}/man1/gst-visualise-%{majorminor}*
%{_libdir}/libgstplay-%{majorminor}.so.*
%{_libdir}/gstreamer-%{majorminor}/libgstaudioscale.so
%{_libdir}/gstreamer-%{majorminor}/libgstaudio.so
%{_libdir}/gstreamer-%{majorminor}/libgstidct.so
%{_libdir}/gstreamer-%{majorminor}/libgstriff.so
%{_libdir}/gstreamer-%{majorminor}/libgstvideo.so
%{_libdir}/gstreamer-%{majorminor}/libgstid3types.so
%{_libdir}/gstreamer-%{majorminor}/libgstvideodrop.so
# non-core plugins without external dependencies
%{_libdir}/gstreamer-%{majorminor}/libgstresample.so
%{_libdir}/gstreamer-%{majorminor}/libgstsinesrc.so
%{_libdir}/gstreamer-%{majorminor}/libgstsilence.so
%{_libdir}/gstreamer-%{majorminor}/libgststereo.so
%{_libdir}/gstreamer-%{majorminor}/libgstvolume.so
%{_libdir}/gstreamer-%{majorminor}/libgstvolenv.so
%{_libdir}/gstreamer-%{majorminor}/libgstplayondemand.so
%{_libdir}/gstreamer-%{majorminor}/libgstspeed.so
%{_libdir}/gstreamer-%{majorminor}/libgstadder.so
%{_libdir}/gstreamer-%{majorminor}/libgstalaw.so
%{_libdir}/gstreamer-%{majorminor}/libgstintfloat.so
%{_libdir}/gstreamer-%{majorminor}/libgstlevel.so
%{_libdir}/gstreamer-%{majorminor}/libgstmulaw.so
%{_libdir}/gstreamer-%{majorminor}/libgstpassthrough.so
%{_libdir}/gstreamer-%{majorminor}/libgstcutter.so
%{_libdir}/gstreamer-%{majorminor}/libgstfilter.so
%{_libdir}/gstreamer-%{majorminor}/libmixmatrix.so
%{_libdir}/gstreamer-%{majorminor}/libgstoneton.so
%{_libdir}/gstreamer-%{majorminor}/libgstwavparse.so
%{_libdir}/gstreamer-%{majorminor}/libgstauparse.so
%{_libdir}/gstreamer-%{majorminor}/libgstmodplug.so
%{_libdir}/gstreamer-%{majorminor}/libgstwavenc.so
%{_libdir}/gstreamer-%{majorminor}/libgstfestival.so
%{_libdir}/gstreamer-%{majorminor}/libgstflxdec.so
%{_libdir}/gstreamer-%{majorminor}/libgstqcam.so
%{_libdir}/gstreamer-%{majorminor}/libgstudp.so
%{_libdir}/gstreamer-%{majorminor}/libgstvcdsrc.so
%{_libdir}/gstreamer-%{majorminor}/libgstcdxaparse.so
%{_libdir}/gstreamer-%{majorminor}/libgsteffectv.so
%{_libdir}/gstreamer-%{majorminor}/libgstdeinterlace.so
%{_libdir}/gstreamer-%{majorminor}/libgstmedian.so
%{_libdir}/gstreamer-%{majorminor}/libgstrtjpeg.so
%{_libdir}/gstreamer-%{majorminor}/libgstvideocrop.so
%{_libdir}/gstreamer-%{majorminor}/libgstvideoscale.so
%{_libdir}/gstreamer-%{majorminor}/libgstsmpte.so
%{_libdir}/gstreamer-%{majorminor}/libgstvbidec.so
%{_libdir}/gstreamer-%{majorminor}/libgstsmooth.so
%{_libdir}/gstreamer-%{majorminor}/libgstspectrum.so
%{_libdir}/gstreamer-%{majorminor}/libgstgoom.so
%{_libdir}/gstreamer-%{majorminor}/libgstchart.so
%{_libdir}/gstreamer-%{majorminor}/libgstmonoscope.so
%{_libdir}/gstreamer-%{majorminor}/libgstsynaesthesia.so
%{_libdir}/gstreamer-%{majorminor}/libgstcdplayer.so
%{_libdir}/gstreamer-%{majorminor}/libgstvideotestsrc.so
%{_libdir}/gstreamer-%{majorminor}/libgstrtp.*
%{_libdir}/gstreamer-%{majorminor}/libgstqtdemux.so
%{_libdir}/gstreamer-%{majorminor}/libgsty4menc.so
%{_libdir}/gstreamer-%{majorminor}/libgstaudioconvert.so
%{_libdir}/gstreamer-%{majorminor}/libgstefence.so
# %{_libdir}/gstreamer-%{majorminor}/libgstgdkpixbuf.so
%{_libdir}/gstreamer-%{majorminor}/libgstrmdemux.so
%{_libdir}/gstreamer-%{majorminor}/libgsttimeoverlay.so
%{_libdir}/gstreamer-%{majorminor}/libgstvideobalance.so
%{_libdir}/gstreamer-%{majorminor}/libgstvideofilter.so
%{_libdir}/gstreamer-%{majorminor}/libgstvideoflip.so
%{_libdir}/gstreamer-%{majorminor}/libgstmpeg1systemencode.so
%{_libdir}/gstreamer-%{majorminor}/libgstmpegaudio.so
%{_libdir}/gstreamer-%{majorminor}/libgstmpegaudioparse.so
%{_libdir}/gstreamer-%{majorminor}/libgstmp1videoparse.so
%{_libdir}/gstreamer-%{majorminor}/libgstmpegstream.so
%{_libdir}/gstreamer-%{majorminor}/libgstmpeg2subt.so
%{_libdir}/gstreamer-%{majorminor}/libgstoverlay.so
%{_libdir}/gstreamer-%{majorminor}/libgstsmoothwave.so
%{_libdir}/gstreamer-%{majorminor}/libgsttcp.so
%{_libdir}/gstreamer-%{majorminor}/libgsttextoverlay.so
%{_libdir}/gstreamer-%{majorminor}/libgstffmpeg.so
%{_libdir}/gstreamer-%{majorminor}/libgstxwindowlistener.*
%{_libdir}/gstreamer-%{majorminor}/libgstgnomevfs.so
%{_libdir}/gstreamer-%{majorminor}/libgstmatroska.so
%{_libdir}/gstreamer-%{majorminor}/libgstnavigationtest.so
%{_libdir}/gstreamer-%{majorminor}/libgsttypefindfunctions.so
%{_libdir}/gstreamer-%{majorminor}/libgstximagesink.so
%{_libdir}/gstreamer-%{majorminor}/libgstxvimagesink.so
%{_libdir}/libgstinterfaces-%{majorminor}.so*
%{_libdir}/gstreamer-%{majorminor}/libgstswitch.so
%{_libdir}/gstreamer-%{majorminor}/libgsttagediting.so
%{_libdir}/gstreamer-%{majorminor}/libgstaudiofilter.so
%{_libdir}/gstreamer-%{majorminor}/libgstaudiofilterexample.so
%{_libdir}/gstreamer-%{majorminor}/libgstgamma.so
%{_libdir}/gstreamer-%{majorminor}/libgstcolorspace.so
# non-core plugins with external dependencies
@USE_ARTS_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstarts.so
@USE_ARTSC_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstartsdsink.so
@USE_AUDIOFILE_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstaudiofile.so
@USE_CDPARANOIA_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstcdparanoia.so
@USE_ESD_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstesd.so
# @USE_GNOME_VFS_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstgnomevfssrc.so
# @USE_GNOME_VFS_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstgnomevfssink.so
@USE_JPEG_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstjpeg.so
@USE_MIKMOD_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstmikmod.so
@USE_SDL_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstsdlvideosink.so
@USE_VORBIS_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstvorbis.so
@USE_VORBIS_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstogg.so
@USE_LIBPNG_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstpng.so
@USE_OSS_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstossaudio.so
@USE_V4L_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstvideo4linux.so
@USE_RAW1394_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgst1394.so
@USE_XVIDEO_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstxvideosink.so
@USE_GCONF_TRUE@%{_sysconfdir}/gconf/schemas/gstreamer.schemas
@USE_GCONF_TRUE@%{_libdir}/libgstgconf-%{majorminor}.so.*
@USE_GCONF_TRUE@%{_libdir}/pkgconfig/gstreamer-gconf-%{majorminor}.pc
# Snapshot plugin
@USE_LIBPNG_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstsnapshot.so
%post 
%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null



%package -n gstreamer-plugins-devel
Summary: 	GStreamer Plugin Library Headers.
Group: 		Development/Libraries
Requires: 	gstreamer-plugins = %{version}
Provides:	gstreamer-play-devel = %{version}

%description -n gstreamer-plugins-devel
GStreamer support libraries header files.

%files -n gstreamer-plugins-devel
%defattr(-, root, root)
%{_includedir}/gstreamer-%{majorminor}/gst/gconf/gconf.h
%{_includedir}/gstreamer-%{majorminor}/gst/audio/audio.h
%{_includedir}/gstreamer-%{majorminor}/gst/floatcast/floatcast.h
%{_includedir}/gstreamer-%{majorminor}/gst/idct/idct.h
%{_includedir}/gstreamer-%{majorminor}/gst/resample/resample.h
%{_includedir}/gstreamer-%{majorminor}/gst/video/video.h
%{_includedir}/gstreamer-%{majorminor}/gst/audio/audioclock.h
%{_includedir}/gstreamer-%{majorminor}/gst/mixer/mixer.h
%{_includedir}/gstreamer-%{majorminor}/gst/navigation/navigation.h
%{_includedir}/gstreamer-%{majorminor}/gst/video/gstvideosink.h
%{_includedir}/gstreamer-%{majorminor}/gst/colorbalance/colorbalance.h
%{_includedir}/gstreamer-%{majorminor}/gst/colorbalance/colorbalancechannel.h
%{_includedir}/gstreamer-%{majorminor}/gst/mixer/mixertrack.h
%{_includedir}/gstreamer-%{majorminor}/gst/tuner/tuner.h
%{_includedir}/gstreamer-%{majorminor}/gst/tuner/tunerchannel.h
%{_includedir}/gstreamer-%{majorminor}/gst/tuner/tunernorm.h
%{_includedir}/gstreamer-%{majorminor}/gst/xoverlay/xoverlay.h
%{_includedir}/gstreamer-%{majorminor}/gst/xwindowlistener/xwindowlistener.h
%{_includedir}/gstreamer-%{majorminor}/gst/propertyprobe/propertyprobe.h
%{_includedir}/gstreamer-%{majorminor}/gst/play/gstplay.h
%{_includedir}/gstreamer-%{majorminor}/gst/riff*
%{_includedir}/gstreamer-%{majorminor}/gst/tag/tag.h
%{_includedir}/gstreamer-%{majorminor}/gst/audio/gstaudiofilter.h
%{_libdir}/pkgconfig/gstreamer-libs-%{majorminor}.pc
%{_libdir}/pkgconfig/gstreamer-play-%{majorminor}.pc
%{_libdir}/pkgconfig/gstreamer-interfaces-%{majorminor}.pc
@USE_GCONF_TRUE@%{_libdir}/libgstgconf-%{majorminor}.so
%{_libdir}/libgstplay-%{majorminor}.so


# Here are all the packages depending on external libs #

### A52DEC ###
@USE_A52DEC_TRUE@%package -n gstreamer-a52dec
@USE_A52DEC_TRUE@Summary:       GStreamer VOB decoder plug-in.
@USE_A52DEC_TRUE@Group:         Libraries/Multimedia
@USE_A52DEC_TRUE@Requires:      gstreamer-plugins = %{version}
@USE_A52DEC_TRUE@Requires:      a52dec >= 0.7.3
@USE_A52DEC_TRUE@BuildRequires: a52dec-devel >= 0.7.3
@USE_A52DEC_TRUE@
@USE_A52DEC_TRUE@%description -n gstreamer-a52dec
@USE_A52DEC_TRUE@Plug-in for decoding of VOB files.
@USE_A52DEC_TRUE@
@USE_A52DEC_TRUE@%files -n gstreamer-a52dec
@USE_A52DEC_TRUE@%defattr(-, root, root)
@USE_A52DEC_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgsta52dec.so
%{_libdir}/gstreamer-%{majorminor}/libgstac3parse.so
@USE_A52DEC_TRUE@
@USE_A52DEC_TRUE@%post -n gstreamer-a52dec
@USE_A52DEC_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_A52DEC_TRUE@
@USE_A52DEC_TRUE@%postun -n gstreamer-a52dec
@USE_A52DEC_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null

### AALIB ###
@USE_AALIB_TRUE@%package -n gstreamer-aalib
@USE_AALIB_TRUE@Summary:	GStreamer plug-in for Ascii-art output.
@USE_AALIB_TRUE@Group:		Libraries/Multimedia
@USE_AALIB_TRUE@Requires:	gstreamer-plugins = %{version}
@USE_AALIB_TRUE@Requires:	aalib >= 1.3
@USE_AALIB_TRUE@BuildRequires:	aalib-devel >= 1.3
@USE_AALIB_TRUE@
@USE_AALIB_TRUE@%description -n gstreamer-aalib
@USE_AALIB_TRUE@Plug-in for viewing video in Ascii-art using aalib library.
@USE_AALIB_TRUE@
@USE_AALIB_TRUE@%files -n gstreamer-aalib
@USE_AALIB_TRUE@%defattr(-, root, root)
@USE_AALIB_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstaasink.so
@USE_AALIB_TRUE@
@USE_AALIB_TRUE@%post -n gstreamer-aalib
@USE_AALIB_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_AALIB_TRUE@
@USE_AALIB_TRUE@%postun -n gstreamer-aalib
@USE_AALIB_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_AALIB_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null

### LIBCACA ###
@USE_AALIB_TRUE@%package -n gstreamer-libcaca
@USE_AALIB_TRUE@Summary:        GStreamer plug-in for libcaca Ascii-art output.
@USE_AALIB_TRUE@Group:          Libraries/Multimedia
@USE_AALIB_TRUE@Requires:       gstreamer-plugins = %{version}
@USE_AALIB_TRUE@BuildRequires:  libcaca-devel >= 0.7
@USE_AALIB_TRUE@
@USE_AALIB_TRUE@%description -n gstreamer-libcaca
@USE_AALIB_TRUE@Plug-in for viewing video in Ascii-art using libcaca library.
@USE_AALIB_TRUE@
@USE_AALIB_TRUE@%files -n gstreamer-libcaca
@USE_AALIB_TRUE@%defattr(-, root, root)
@USE_AALIB_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstcacasink.so
@USE_AALIB_TRUE@
@USE_AALIB_TRUE@%post -n gstreamer-libcaca
@USE_AALIB_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_AALIB_TRUE@
@USE_AALIB_TRUE@%postun -n gstreamer-libcaca
@USE_AALIB_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_AALIB_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null

### ALSA ###
@USE_ALSA_TRUE@%package -n gstreamer-alsa
@USE_ALSA_TRUE@Summary:  GStreamer plug-ins for the ALSA sound system.
@USE_ALSA_TRUE@Group:    Libraries/Multimedia
@USE_ALSA_TRUE@Requires: gstreamer-plugins = %{version}
@USE_ALSA_TRUE@
@USE_ALSA_TRUE@Provides:	gstreamer-audiosrc
@USE_ALSA_TRUE@Provides:	gstreamer-audiosink
@USE_ALSA_TRUE@
@USE_ALSA_TRUE@%description -n gstreamer-alsa
@USE_ALSA_TRUE@Input and output plug-in for the ALSA soundcard driver system. 
@USE_ALSA_TRUE@This plug-in depends on Alsa 0.9.x or higher.
@USE_ALSA_TRUE@
@USE_ALSA_TRUE@%files -n gstreamer-alsa
@USE_ALSA_TRUE@%defattr(-, root, root)
@USE_ALSA_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstalsa.so
### @USE_ALSA_TRUE@%{_mandir}/man1/gstalsa*
@USE_ALSA_TRUE@
@USE_ALSA_TRUE@%post -n gstreamer-alsa
@USE_ALSA_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_ALSA_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null
@USE_ALSA_TRUE@
@USE_ALSA_TRUE@%postun -n gstreamer-alsa
@USE_ALSA_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_ALSA_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null


### SWFDEC FLASH PLUGIN ###
@USE_SWFDEC_TRUE@%package -n gstreamer-swfdec
@USE_SWFDEC_TRUE@Summary:  GStreamer Flash redering plug-in.
@USE_SWFDEC_TRUE@Group:    Libraries/Multimedia
@USE_SWFDEC_TRUE@Requires: gstreamer-plugins = %{version}
@USE_SWFDEC_TRUE@Requires: swfdec => 0.1.2
@USE_SWFDEC_TRUE@
@USE_SWFDEC_TRUE@%description -n gstreamer-swfdec
@USE_SWFDEC_TRUE@Plug-in for rendering Flash animations using swfdec library
@USE_SWFDEC_TRUE@
@USE_SWFDEC_TRUE@%files -n gstreamer-swfdec
@USE_SWFDEC_TRUE@%defattr(-, root, root)
@USE_SWFDEC_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstswfdec.so
@USE_SWFDEC_TRUE@
@USE_SWFDEC_TRUE@%post -n gstreamer-swfdec
@USE_SWFDEC_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_SWFDEC_TRUE@
@USE_SWFDEC_TRUE@%postun -n gstreamer-swfdec
@USE_SWFDEC_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null

### AVI ###
%package -n gstreamer-avi
Summary:       GStreamer plug-in for AVI movie playback.
Group:         Libraries/Multimedia
Requires:      gstreamer-plugins = %{version}

%description -n gstreamer-avi
Plug-ins for playback of AVI format media files.
 
%files -n gstreamer-avi
%defattr(-, root, root)
%{_libdir}/gstreamer-%{majorminor}/libgstavi.so

%post -n gstreamer-avi
%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
# %{_bindir}/gst-compprep > /dev/null 2> /dev/null

%postun -n gstreamer-avi
%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
### %{_bindir}/gst-compprep > /dev/null 2> /dev/null


### DVDREAD ###
@USE_DVDREAD_TRUE@%package -n gstreamer-libdvdread
@USE_DVDREAD_TRUE@Summary:       GStreamer plug-in for DVD playback.
@USE_DVDREAD_TRUE@Group:         Libraries/Multimedia
@USE_DVDREAD_TRUE@Requires:      gstreamer-plugins = %{version}
@USE_DVDREAD_TRUE@Requires:      libdvdread >= 0.9.0
@USE_DVDREAD_TRUE@BuildRequires: libdvdread-devel >= 0.9.0
@USE_DVDREAD_TRUE@Obsoletes:     gstreamer-libdvd
@USE_DVDREAD_TRUE@
@USE_DVDREAD_TRUE@%description -n gstreamer-libdvdread
@USE_DVDREAD_TRUE@Plug-in for reading DVDs using libdvdread under GStreamer.
@USE_DVDREAD_TRUE@
@USE_DVDREAD_TRUE@%files -n gstreamer-libdvdread
@USE_DVDREAD_TRUE@%defattr(-, root, root)
@USE_DVDREAD_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstdvdreadsrc.so
@USE_DVDREAD_TRUE@
@USE_DVDREAD_TRUE@%post -n gstreamer-libdvdread
@USE_DVDREAD_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_DVDREAD_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null
@USE_DVDREAD_TRUE@
@USE_DVDREAD_TRUE@%postun -n gstreamer-libdvdread
@USE_DVDREAD_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_DVDREAD_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null

### DVDNAV ###
@USE_DVDNAV_TRUE@%package -n gstreamer-libdvdnav
@USE_DVDNAV_TRUE@Summary:       GStreamer plug-in for DVD playback.
@USE_DVDNAV_TRUE@Group:         Libraries/Multimedia
@USE_DVDNAV_TRUE@Requires:      gstreamer-plugins = %{version}
@USE_DVDNAV_TRUE@Requires:      libdvdnav >= 0.1.3
@USE_DVDNAV_TRUE@BuildRequires: libdvdnav-devel >= 0.1.3
@USE_DVDNAV_TRUE@Obsoletes:     gstreamer-libdvd
@USE_DVDNAV_TRUE@
@USE_DVDNAV_TRUE@%description -n gstreamer-libdvdnav
@USE_DVDNAV_TRUE@Plug-in for reading DVDs using libdvdnav  under GStreamer.
@USE_DVDNAV_TRUE@
@USE_DVDNAV_TRUE@%files -n gstreamer-libdvdnav
@USE_DVDNAV_TRUE@%defattr(-, root, root)
@USE_DVDNAV_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstdvdnavsrc.so
@USE_DVDNAV_TRUE@
@USE_DVDNAV_TRUE@%post -n gstreamer-libdvdnav
@USE_DVDNAV_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_DVDNAV_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null
@USE_DVDNAV_TRUE@
@USE_DVDNAV_TRUE@%postun -n gstreamer-libdvdnav
@USE_DVDNAV_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_DVDNAV_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null

## DXR3 ###
@USE_DXR3_TRUE@%package -n gstreamer-dxr3
@USE_DXR3_TRUE@Summary:       GStreamer plug-in for playback using dxr3 card.
@USE_DXR3_TRUE@Group:         Libraries/Multimedia
@USE_DXR3_TRUE@Requires:      gstreamer-plugins = %{version}
@USE_DXR3_TRUE@Requires:      em8300 => 0.12.0
@USE_DXR3_TRUE@BuildRequires: em8300-devel => 0.12.0
@USE_DXR3_TRUE@
@USE_DXR3_TRUE@%description -n gstreamer-dxr3
@USE_DXR3_TRUE@Plug-in supporting DVD playback using cards
@USE_DXR3_TRUE@with the dxr3 chipset like Hollywood Plus
@USE_DXR3_TRUE@and Creative Labs DVD cards.
@USE_DXR3_TRUE@
@USE_DXR3_TRUE@%files -n gstreamer-dxr3
@USE_DXR3_TRUE@%defattr(-, root, root)
@USE_DXR3_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstdxr3.so
@USE_DXR3_TRUE@
@USE_DXR3_TRUE@%post -n gstreamer-dxr3
@USE_DXR3_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_DXR3_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null
@USE_DXR3_TRUE@
@USE_DXR3_TRUE@%postun -n gstreamer-dxr3
@USE_DXR3_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_DXR3_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null

### FLAC ###
@USE_FLAC_TRUE@%package -n gstreamer-flac
@USE_FLAC_TRUE@Summary:       GStreamer plug-in for FLAC lossless audio.
@USE_FLAC_TRUE@Group:         Libraries/Multimedia
@USE_FLAC_TRUE@Requires:      gstreamer-plugins = %{version}
@USE_FLAC_TRUE@Requires:      flac >= 1.0.3
@USE_FLAC_TRUE@BuildRequires: flac-devel >= 1.0.3
@USE_FLAC_TRUE@
@USE_FLAC_TRUE@%description -n gstreamer-flac
@USE_FLAC_TRUE@Plug-in for the free FLAC lossless audio format.
@USE_FLAC_TRUE@
@USE_FLAC_TRUE@%files -n gstreamer-flac
@USE_FLAC_TRUE@%defattr(-, root, root)
@USE_FLAC_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstflac.so
@USE_FLAC_TRUE@
@USE_FLAC_TRUE@%post -n gstreamer-flac
@USE_FLAC_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_FLAC_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null
@USE_FLAC_TRUE@
@USE_FLAC_TRUE@%postun -n gstreamer-flac
@USE_FLAC_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_FLAC_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null

### GSM ###
@USE_GSM_TRUE@%package -n gstreamer-gsm
@USE_GSM_TRUE@Summary:       GStreamer plug-in for GSM lossy audio format.
@USE_GSM_TRUE@Group:         Libraries/Multimedia
@USE_GSM_TRUE@Requires:      gstreamer-plugins = %{version}
@USE_GSM_TRUE@Requires:      gsm >= 1.0.10
@USE_GSM_TRUE@BuildRequires: gsm-devel >= 1.0.10
@USE_GSM_TRUE@
@USE_GSM_TRUE@%description -n gstreamer-gsm
@USE_GSM_TRUE@Output plug-in for GStreamer to convert to GSM lossy audio format.
@USE_GSM_TRUE@
@USE_GSM_TRUE@%files -n gstreamer-gsm
@USE_GSM_TRUE@%defattr(-, root, root)
@USE_GSM_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstgsm.so
@USE_GSM_TRUE@
@USE_GSM_TRUE@%post -n gstreamer-gsm
@USE_GSM_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_GSM_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null
@USE_GSM_TRUE@
@USE_GSM_TRUE@%postun -n gstreamer-gsm
@USE_GSM_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_GSM_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null

### HERMES ###
@USE_HERMES_TRUE@%package -n gstreamer-colorspace
@USE_HERMES_TRUE@Summary:       GStreamer colorspace conversion plug-in.
@USE_HERMES_TRUE@Group:         Libraries/Multimedia
@USE_HERMES_TRUE@Requires:      gstreamer-plugins = %{version}
@USE_HERMES_TRUE@Requires:      Hermes => 1.3.0
@USE_HERMES_TRUE@BuildRequires: Hermes-devel => 1.3.0
@USE_HERMES_TRUE@%description -n gstreamer-colorspace
@USE_HERMES_TRUE@Colorspace plug-in based on Hermes library.
@USE_HERMES_TRUE@
@USE_HERMES_TRUE@%files -n gstreamer-colorspace
@USE_HERMES_TRUE@%defattr(-, root, root)
@USE_HERMES_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgsthermescolorspace.so
@USE_HERMES_TRUE@
@USE_HERMES_TRUE@%post -n gstreamer-colorspace
@USE_HERMES_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_HERMES_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null
@USE_HERMES_TRUE@
@USE_HERMES_TRUE@%postun -n gstreamer-colorspace
@USE_HERMES_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_HERMES_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null

#### JACK AUDIO CONNECTION KIT ###
@USE_JACK_TRUE@%package -n gstreamer-jack
@USE_JACK_TRUE@Summary:  GStreamer plug-in for the Jack Sound Server.
@USE_JACK_TRUE@Group:    Libraries/Multimedia
@USE_JACK_TRUE@Requires: gstreamer-plugins = %{version}
@USE_JACK_TRUE@Requires: jack-audio-connection-kit => 0.28.0
@USE_JACK_TRUE@
@USE_JACK_TRUE@Provides:	gstreamer-audiosrc
@USE_JACK_TRUE@Provides:	gstreamer-audiosink
@USE_JACK_TRUE@
@USE_JACK_TRUE@%description -n gstreamer-jack
@USE_JACK_TRUE@Plug-in for the JACK professional sound server.
@USE_JACK_TRUE@
@USE_JACK_TRUE@%files -n gstreamer-jack
@USE_JACK_TRUE@%defattr(-, root, root)
@USE_JACK_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstjack.so
@USE_JACK_TRUE@
@USE_JACK_TRUE@%post -n gstreamer-jack
@USE_JACK_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_JACK_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null
@USE_JACK_TRUE@
@USE_JACK_TRUE@%postun -n gstreamer-jack
@USE_JACK_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_JACK_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null

#### NETWORK AUDIO SYSTEM  ###
@USE_NAS_TRUE@%package -n gstreamer-nas
@USE_NAS_TRUE@Summary:  GStreamer plug-in for the Network Audio System.
@USE_NAS_TRUE@Group:    Libraries/Multimedia
@USE_NAS_TRUE@Requires: gstreamer-plugins = %{version}
@USE_NAS_TRUE@Requires: libnas2 => 1.6
@USE_NAS_TRUE@
@USE_NAS_TRUE@%description -n gstreamer-nas
@USE_NAS_TRUE@Plug-in for the Network Audio System sound server.
@USE_NAS_TRUE@
@USE_NAS_TRUE@%files -n gstreamer-nas
@USE_NAS_TRUE@%defattr(-, root, root)
@USE_NAS_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstnassink.so
@USE_NAS_TRUE@
@USE_NAS_TRUE@%post -n gstreamer-nas
@USE_NAS_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_NAS_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null
@USE_NAS_TRUE@
@USE_NAS_TRUE@%postun -n gstreamer-nas
@USE_NAS_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null


### LADSPA ###
@USE_LADSPA_TRUE@%package -n gstreamer-ladspa
@USE_LADSPA_TRUE@Summary:       GStreamer wrapper for LADSPA plug-ins.
@USE_LADSPA_TRUE@Group:         Libraries/Multimedia
@USE_LADSPA_TRUE@Requires:      gstreamer-plugins = %{version}
@USE_LADSPA_TRUE@Requires:      ladspa
@USE_LADSPA_TRUE@BuildRequires: ladspa-devel
@USE_LADSPA_TRUE@
@USE_LADSPA_TRUE@%description -n gstreamer-ladspa
@USE_LADSPA_TRUE@Plug-in which wraps LADSPA plug-ins for use by GStreamer applications.
@USE_LADSPA_TRUE@We suggest you also get the cmt package of ladspa plug-ins
@USE_LADSPA_TRUE@and steve harris s swh-plugins package.
@USE_LADSPA_TRUE@
@USE_LADSPA_TRUE@%files -n gstreamer-ladspa
@USE_LADSPA_TRUE@%defattr(-, root, root)
@USE_LADSPA_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstladspa.so
@USE_LADSPA_TRUE@
@USE_LADSPA_TRUE@%post -n gstreamer-ladspa
@USE_LADSPA_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_LADSPA_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null
@USE_LADSPA_TRUE@
@USE_LADSPA_TRUE@%postun -n gstreamer-ladspa
@USE_LADSPA_TRUE@%{_bindir}/gst-register-%{majorminor}  > /dev/null 2> /dev/null
@USE_LADSPA_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null

### LAME ###
@USE_LAME_TRUE@%package -n gstreamer-lame
@USE_LAME_TRUE@Summary:       GStreamer plug-in encoding mp3 songs using lame.
@USE_LAME_TRUE@Group:         Libraries/Multimedia
@USE_LAME_TRUE@Requires:      gstreamer-plugins = %{version}
@USE_LAME_TRUE@Requires:      lame >= 3.89
@USE_LAME_TRUE@BuildRequires: lame-devel >= 3.89
@USE_LAME_TRUE@
@USE_LAME_TRUE@%description -n gstreamer-lame
@USE_LAME_TRUE@Plug-in for encoding mp3 with lame under GStreamer.
@USE_LAME_TRUE@
@USE_LAME_TRUE@%files -n gstreamer-lame
@USE_LAME_TRUE@%defattr(-, root, root)
@USE_LAME_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstlame.so
@USE_LAME_TRUE@
@USE_LAME_TRUE@%post -n gstreamer-lame
@USE_LAME_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_LAME_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null
@USE_LAME_TRUE@
@USE_LAME_TRUE@%postun -n gstreamer-lame
@USE_LAME_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null

### LIBDV ###
@USE_LIBDV_TRUE@%package -n gstreamer-dv
@USE_LIBDV_TRUE@Summary:       GStreamer DV plug-in.
@USE_LIBDV_TRUE@Group:         Libraries/Multimedia
@USE_LIBDV_TRUE@Requires:      gstreamer-plugins = %{version}
@USE_LIBDV_TRUE@Requires:      libdv >= 0.9.5
@USE_LIBDV_TRUE@BuildRequires: libdv-devel >= 0.9.5
@USE_LIBDV_TRUE@
@USE_LIBDV_TRUE@%description -n gstreamer-dv
@USE_LIBDV_TRUE@Plug-in for digital video support using libdv.
@USE_LIBDV_TRUE@
@USE_LIBDV_TRUE@%files -n gstreamer-dv
@USE_LIBDV_TRUE@%defattr(-, root, root)
@USE_LIBDV_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstdvdec.so
@USE_LIBDV_TRUE@
@USE_LIBDV_TRUE@%post -n gstreamer-dv
@USE_LIBDV_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_LIBDV_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null
@USE_LIBDV_TRUE@
@USE_LIBDV_TRUE@%postun -n gstreamer-dv
@USE_LIBDV_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null


### LIBFAME ###
@USE_LIBFAME_TRUE@%package -n gstreamer-libfame
@USE_LIBFAME_TRUE@Summary:       GStreamer plug-in to encode MPEG1/MPEG4 video.
@USE_LIBFAME_TRUE@Group:         Libraries/Multimedia
@USE_LIBFAME_TRUE@Requires:      gstreamer-plugins = %{version}
@USE_LIBFAME_TRUE@Requires:      libfame >= 0.9.0 
@USE_LIBFAME_TRUE@BuildRequires: libfame-devel >= 0.9.0 
@USE_LIBFAME_TRUE@
@USE_LIBFAME_TRUE@%description -n gstreamer-libfame
@USE_LIBFAME_TRUE@Plug-in for encoding MPEG1/MPEG4 video using libfame.
@USE_LIBFAME_TRUE@
@USE_LIBFAME_TRUE@%files -n gstreamer-libfame
@USE_LIBFAME_TRUE@%defattr(-, root, root)
@USE_LIBFAME_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstlibfame.so
@USE_LIBFAME_TRUE@
@USE_LIBFAME_TRUE@%post -n gstreamer-libfame
@USE_LIBFAME_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_LIBFAME_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null
@USE_LIBFAME_TRUE@
@USE_LIBFAME_TRUE@%postun -n gstreamer-libfame
@USE_LIBFAME_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null

### MAD ###
@USE_MAD_TRUE@%package -n gstreamer-mad  
@USE_MAD_TRUE@Summary:       GStreamer plug-in using MAD for mp3 decoding.
@USE_MAD_TRUE@Group:         Libraries/Multimedia
@USE_MAD_TRUE@Requires:      gstreamer-plugins = %{version}
@USE_MAD_TRUE@Requires:      libmad >= 0.13.0
@USE_MAD_TRUE@BuildRequires: libmad-devel >= 0.13.0
@USE_MAD_TRUE@Requires:	     libid3tag >= 0.15.0
@USE_MAD_TRUE@BuildRequires: libid3tag-devel => 0.15.0
@USE_MAD_TRUE@
@USE_MAD_TRUE@%description -n gstreamer-mad
@USE_MAD_TRUE@Plug-in for playback of mp3 songs using the very good MAD library.
@USE_MAD_TRUE@
@USE_MAD_TRUE@%files -n gstreamer-mad
@USE_MAD_TRUE@%defattr(-, root, root)  
@USE_MAD_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstmad.so
@USE_MAD_TRUE@
@USE_MAD_TRUE@%post -n gstreamer-mad
@USE_MAD_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_MAD_TRUE@
@USE_MAD_TRUE@%postun -n gstreamer-mad
@USE_MAD_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null

### MPEG2DEC ###
@USE_MPEG2DEC_TRUE@%package -n gstreamer-mpeg
@USE_MPEG2DEC_TRUE@Summary:GStreamer plug-ins for MPEG video playback and encoding.
@USE_MPEG2DEC_TRUE@Group:         Libraries/Multimedia
@USE_MPEG2DEC_TRUE@Requires:      gstreamer-plugins = %{version}
@USE_MPEG2DEC_TRUE@Requires:      mpeg2dec => 0.3.1
@USE_MPEG2DEC_TRUE@BuildRequires: mpeg2dec-devel => 0.3.1
@USE_MPEG2DEC_TRUE@Obsoletes:     gstreamer-mpeg1
@USE_MPEG2DEC_TRUE@Obsoletes:     gstreamer-mpeg2
@USE_MPEG2DEC_TRUE@Obsoletes:     gstreamer-mpeg2dec
@USE_MPEG2DEC_TRUE@
@USE_MPEG2DEC_TRUE@%description -n gstreamer-mpeg
@USE_MPEG2DEC_TRUE@Plug-ins for playing and encoding MPEG video.
@USE_MPEG2DEC_TRUE@
@USE_MPEG2DEC_TRUE@%files -n gstreamer-mpeg
@USE_MPEG2DEC_TRUE@%defattr(-, root, root)
@USE_MPEG2DEC_TRUE@/usr/lib/gstreamer-%{majorminor}/libgstmpeg2dec.so
@USE_MPEG2DEC_TRUE@%post -n  gstreamer-mpeg
@USE_MPEG2DEC_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_MPEG2DEC_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null
@USE_MPEG2DEC_TRUE@
@USE_MPEG2DEC_TRUE@%postun -n  gstreamer-mpeg
@USE_MPEG2DEC_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_MPEG2DEC_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null

### FAAD ###
@USE_FAAD_TRUE@%package -n gstreamer-faad
@USE_FAAD_TRUE@Summary:GStreamer plug-ins for AAC audio playback.
@USE_FAAD_TRUE@Group:         Libraries/Multimedia
@USE_FAAD_TRUE@Requires:      gstreamer-plugins = %{version}
@USE_FAAD_TRUE@Requires:      faad2 => 2.0
@USE_FAAD_TRUE@BuildRequires: faad2-devel => 2.0
@USE_FAAD_TRUE@
@USE_FAAD_TRUE@%description -n gstreamer-faad
@USE_FAAD_TRUE@Plug-ins for playing AAC audio
@USE_FAAD_TRUE@
@USE_FAAD_TRUE@%files -n gstreamer-faad
@USE_FAAD_TRUE@%defattr(-, root, root)
@USE_FAAD_TRUE@/usr/lib/gstreamer-%{majorminor}/libgstfaad.so
@USE_FAAD_TRUE@%post -n  gstreamer-faad
@USE_FAAD_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_FAAD_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null
@USE_FAAD_TRUE@
@USE_FAAD_TRUE@%postun -n  gstreamer-faad
@USE_FAAD_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_FAAD_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null

### SIDPLAY ###
@USE_SIDPLAY_TRUE@%package -n gstreamer-sid
@USE_SIDPLAY_TRUE@Summary:       GStreamer Sid C64 music plug-in.
@USE_SIDPLAY_TRUE@Group:         Libraries/Multimedia
@USE_SIDPLAY_TRUE@Requires:      gstreamer-plugins = %{version}
@USE_SIDPLAY_TRUE@Requires:      libsidplay => 1.36.0
@USE_SIDPLAY_TRUE@BuildRequires: libsidplay-devel => 1.36.0
@USE_SIDPLAY_TRUE@
@USE_SIDPLAY_TRUE@%description -n gstreamer-sid
@USE_SIDPLAY_TRUE@Plug-in for playback of C64 SID format music files.
@USE_SIDPLAY_TRUE@
@USE_SIDPLAY_TRUE@%files -n gstreamer-sid
@USE_SIDPLAY_TRUE@%defattr(-, root, root)
@USE_SIDPLAY_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstsid.so
@USE_SIDPLAY_TRUE@
@USE_SIDPLAY_TRUE@%post -n gstreamer-sid
@USE_SIDPLAY_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_SIDPLAY_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null
@USE_SIDPLAY_TRUE@
@USE_SIDPLAY_TRUE@%postun -n gstreamer-sid
@USE_SIDPLAY_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_SIDPLAY_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null

### SHOUT ###
@USE_SHOUT_TRUE@%package -n gstreamer-icecast
@USE_SHOUT_TRUE@Summary:       GStreamer Icecast plug-in using libshout.
@USE_SHOUT_TRUE@Group:         Libraries/Multimedia
@USE_SHOUT_TRUE@Requires:      gstreamer-plugins = %{version}
@USE_SHOUT_TRUE@Requires:      libshout >= 1.0.5
@USE_SHOUT_TRUE@BuildRequires: libshout-devel >= 1.0.5
@USE_SHOUT_TRUE@
@USE_SHOUT_TRUE@%description -n gstreamer-icecast
@USE_SHOUT_TRUE@Plug-in for broadcasting audio to the Icecast server.
@USE_SHOUT_TRUE@
@USE_SHOUT_TRUE@%files -n gstreamer-icecast
@USE_SHOUT_TRUE@%defattr(-, root, root)
@USE_SHOUT_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstshout.so
@USE_SHOUT_TRUE@
@USE_SHOUT_TRUE@%post -n gstreamer-icecast
@USE_SHOUT_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_SHOUT_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null
@USE_SHOUT_TRUE@
@USE_SHOUT_TRUE@%postun -n gstreamer-icecast
@USE_SHOUT_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_SHOUT_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null

### VIDEO 4 LINUX 2 ###
@USE_V4L2_TRUE@%package -n gstreamer-v4l2
@USE_V4L2_TRUE@Summary:       GStreamer Video for Linux 2 plug-in.
@USE_V4L2_TRUE@Group:         Libraries/Multimedia
@USE_V4L2_TRUE@Requires:      gstreamer-plugins = %{version}
@USE_V4L2_TRUE@BuildRequires: glibc-devel
@USE_V4L2_TRUE@
@USE_V4L2_TRUE@%description -n gstreamer-v4l2
@USE_V4L2_TRUE@Plug-in for accessing Video for Linux devices.
@USE_V4L2_TRUE@
@USE_V4L2_TRUE@%files -n gstreamer-v4l2
@USE_V4L2_TRUE@%defattr(-, root, root)
@USE_V4L2_TRUE@%{_libdir}/gstreamer-%{majorminor}/libgstvideo4linux2.so
@USE_V4L2_TRUE@
@USE_V4L2_TRUE@%post -n gstreamer-v4l2
@USE_V4L2_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_V4L2_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null
@USE_V4L2_TRUE@
@USE_V4L2_TRUE@%postun -n gstreamer-v4l2
@USE_V4L2_TRUE@%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
@USE_V4L2_TRUE@### %{_bindir}/gst-compprep > /dev/null 2> /dev/null

### asf ###
%package -n gstreamer-asf
Summary:        GStreamer plug-in for asf video format.
Group:          Libraries/Multimedia
Requires:       gstreamer-plugins = %{version}
%description -n gstreamer-asf
Plug-in for playing ASF movies under GStreamer.
                                                                                
%files -n gstreamer-asf
%defattr(-, root, root)
%{_libdir}/gstreamer-%{majorminor}/libgstasf*
                                                                                
%post -n gstreamer-asf
%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null
                                                                                
%postun -n gstreamer-asf
%{_bindir}/gst-register-%{majorminor} > /dev/null 2> /dev/null


%changelog
* Wed Jan 21 2004 Christian Schaller <Uraeus@gnome.org>
- added NAS plugin

* Fri Jan 16 2004 Christian Schaller <uraeus@gnome.org>
- added libcaca plugin
- added libgstcolorspace - fixed name of libgsthermescolorspace

* Wed Jan 14 2004 Christian Schaller <uraeus@gnome.org>
- Add gamma plugin
- Have the pixbuf plugin deleted for now

* Wed Dec 18 2003 Christian Schaller <Uraeus@gnome.org>
- remove gsttagediting.h as it is gone
- replace it with gst/tag/tag.h
* Sun Nov 23 2003 Christian Schaller <Uraeus@gnome.org>
- Update spec file for latest changes
- add faad plugin
* Thu Oct 16 2003 Christian Schaller <Uraeus@gnome.org>
- Add new colorbalance and tuner and xoverlay stuff
- Change name of kde-audio-devel to arts-devel

* Sat Sep 27 2003 Christian Schaller <Uraeus@gnome.org>
- Add majorminor to man page names
- add navigation lib to package

* Tue Sep 11 2003 Christian Schaller <Uraeus@gnome.org>
- Add -%{majorminor} to each instance of gst-register

* Tue Aug 19 2003 Christian Schaller <Uraeus@Gnome.org>
- Add new plugins

* Sat Jul 12 2003 Thomas Vander Stichele <thomas at apestaart dot org>
- move gst/ mpeg plugins to base package
- remove hermes conditional from snapshot
- remove one instance of resample plugin
- fix up silly versioned plugins efence and rmdemux

* Sat Jul 05 2003 Christian Schaller <Uraeus@gnome.org>
- Major overhaul of SPEC file to make it compatible with what Red Hat ships
  as default
- Probably a little less sexy, but cross-distro SPEC files are a myth anyway
  so making it convenient for RH users wins out
- Keeping conditionals even with new re-org so that developers building the
  RPMS don't need everything installed
- Add bunch of obsoletes to ease migration from earlier official GStreamer RPMS
- Remove plugins that doesn't exist anymore

* Sun Mar 02 2003 Christian Schaller <Uraeus@gnome.org>
- Remove USE_RTP statement from RTP plugin
- Move RTP plugin to no-deps section

* Sat Mar 01 2003 Christian Schaller <Uraeus@gnome.org>
- Remove videosink from SPEC
* Thu Jan 23 2003 Thomas Vander Stichele <thomas at apestaart dot org>
- various fixes
- make video output packages provide gstreamer-videosink

* Thu Jan 23 2003 Thomas Vander Stichele <thomas at apestaart dot org>
- split out ffmpeg stuff to separate plugin

* Fri Dec 27 2002 Thomas Vander Stichele <thomas at apestaart dot org>
- add virtual provides for audio sources and sinks

* Sun Dec 15 2002 Christian Schaller <Uraeus@linuxrising.org>
- Update mpeg2dec REQ to be 0.3.1

* Tue Dec 10 2002 Thomas Vander Stichele <thomas at apestaart dot org>
- only install schema once
- move out devel lib stuff to -devel package

* Sun Dec 08 2002 Thomas Vander Stichele <thomas at apestaart dot org>
- fix location of libgstpng
- changes for parallel installability

* Thu Nov 28 2002 Christian Schaller <Uraeus@linuxrising.org>
- Put in libgstpng plugin
- rm the libgstmedia-info stuff until thomas think they are ready

* Fri Nov 01 2002 Thomas Vander Stichele <thomas at apestaart dot org>
- don't use compprep until ABI issues can be fixed

* Wed Oct 30 2002 Thomas Vander Stichele <thomas at apestaart dot org>
- added smpte plugin
- split out dvdnavread package
- fixed snapshot deps and added hermes conditionals

* Tue Oct 29 2002 Thomas Vander Stichele <thomas at apestaart dot org>
- added -play package, libs, and .pc files

* Thu Oct 24 2002 Christian Schaller <Uraeus@linuxrising.org>
- Added wavenc to audio formats package

* Sat Oct 20 2002 Christian Scchaller <Uraeus@linuxrising.org>
- Removed all .la files
- added separate non-openquicktime demuxer plugin
- added snapshot plugin
- added videotest plugin
- Split avi plugin out to avi and windec plugins since aviplugin do not depend on avifile
- Added cdplayer plugin

* Fri Sep 20 2002 Thomas Vander Stichele <thomas@apestaart.org>
- added gst-compprep calls

* Wed Sep 18 2002 Thomas Vander Stichele <thomas@apestaart.org>
- add gst-register-%{majorminor} calls everywhere again since auto-reregister doesn't work
- added gstreamer-audio-formats to mad's requires since it needs the typefind
  to work properly

* Mon Sep 9 2002 Christian Schaller <Uraeus@linuxrising.org>
- Added v4l2 plugin
* Thu Aug 27 2002 Christian Schaller <Uraeus@linuxrising.org>
- Fixed USE_DV_TRUE to USE_LIBDV_TRUE
- Added Gconf and floatcast headers to gstreamer-plugins-devel package
- Added mixmatrix plugin to audio-effects package

* Thu Jul 11 2002 Thomas Vander Stichele <thomas@apestaart.org>
- fixed oss package to buildrequire instead of require glibc headers

* Mon Jul 08 2002 Thomas Vander Stichele <thomas@apestaart.org>
- fixed -devel package group

* Fri Jul 05 2002 Thomas Vander Stichele <thomas@apestaart.org>
- release 0.4.0 !
- added gstreamer-libs.pc
- removed all gst-register-%{majorminor} calls since this should be done automatically now

* Thu Jul 04 2002 Thomas Vander Stichele <thomas@apestaart.org>
- fix issue with SDL package
- make all packages STRICTLY require the right version to avoid
  ABI issues
- make gst-plugins obsolete gst-plugin-libs
- also send output of gst-register-%{majorminor} to /dev/null to lower the noise

* Wed Jul 03 2002 Thomas Vander Stichele <thomas@apestaart.org>
- require glibc-devel instead of glibc-kernheaders since the latter is only
  since 7.3 and glibc-devel pulls in the right package anyway

* Sun Jun 23 2002 Thomas Vander Stichele <thomas@apestaart.org>
- changed header location of plug-in libs

* Mon Jun 17 2002 Thomas Vander Stichele <thomas@apestaart.org>
- major cleanups
- adding gst-register-%{majorminor} on postun everywhere
- remove ldconfig since we don't actually install libs in system dirs
- removed misc package
- added video-effects
- dot every Summary
- uniformify all descriptions a little

* Thu Jun 06 2002 Thomas Vander Stichele <thomas@apestaart.org>
- various BuildRequires: additions

* Tue Jun 04 2002 Thomas Vander Stichele <thomas@apestaart.org>
- added USE_LIBADSPA_TRUE bits to ladspa package

* Mon Jun 03 2002 Thomas Vander Stichele <thomas@apestaart.org>
- Added libfame package

* Mon May 12 2002 Christian Fredrik Kalager Schaller <Uraeus@linuxrising.org>
- Added jack, dxr3, http packages
- Added visualisation plug-ins, effecttv and synaesthesia
- Created devel package
- Removed gstreamer-plugins-libs package (moved it into gstreamer-plugins)
- Replaced prefix/dirname with _macros

* Mon May 06 2002 Thomas Vander Stichele <thomas@apestaart.org>
- added gstreamer-GConf package

* Wed Mar 13 2002 Thomas Vander Stichele <thomas@apestaart.org>
- added more BuildRequires and Requires
- rearranged some plug-ins
- added changelog ;)
